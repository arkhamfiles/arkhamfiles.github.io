<!DOCTYPE html>
<html lang="ko">

<head>
  <title>FAQ: 아컴호러 카드게임</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="mobile-web-app-capable" content="yes">
  <link rel="icon" sizes="192x192" href="../icon-192.png">
  <!--link rel="apple-touch-icon" sizes="120x120" href="../icon-120.png">
        <meta name="description" content="Rules Reference"-->
  <link
    href="https://fonts.googleapis.com/css?family=Amiri:400,400italic,700,700italic|Julius+Sans+One|Open+Sans:400,400italic,700,700italic|Open+Sans+Condensed:300"
    rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/qtip2/2.1.1/jquery.qtip.css">
  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-markdown/2.9.0/css/bootstrap-markdown.min.css">
  <link rel="stylesheet" href="../css/app.css">
  <link rel="stylesheet" href="../css/icons.css">
  <link rel="stylesheet" href="../css/symbols.css">
  <link rel="stylesheet" href="../css/custom.css">
  <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.js"></script>
      <script src="//cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.js"></script>
    <![endif]-->
  <script src="../js/ui.js"></script>
  <script>
    var currentItemClass = 2;
  </script>
  <style>
    body {
      font-family: Arial, sans-serif;
    }

    .left-menu {
      width: 100%;
    }

.middle-content {
  width: 100%;
  padding: 1rem 0;
}

.middle-inner-content {
  padding: 2rem 0;
}

    ul {
      list-style-type: none;
      padding: 0;
    }

    li {
      cursor: pointer;
    }

    .left-menu ul {
      margin: 0;
      padding-left: 1rem;
    }

    .left-menu li {
      padding: 0.5rem 0;
    }

    .left-menu .cycle {
      font-weight: bold;
      color: #444;
      padding-left: 0;
      margin-top: 1rem;
    }

    .left-menu .card-type {
      font-weight: 600;
      color: #666;
      padding-left: 1rem;
    }

    .left-menu .card-type:hover {
      color: #333;
      text-decoration: underline;
    }

    .card-table {
      width: 100%;
      border-collapse: collapse;
    }

    .card-table tr.card {
      border-bottom: 1px solid #eee;
    }

    .card-table tr.card:hover {
      background-color: #f8f8f8;
      cursor: pointer;
    }

    .card-table td {
      padding: 0.75rem 0;
      font-weight: 600;
    }

@media (min-width: 992px) {

.container {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
}

.left-menu {
  width: 15%;
}

.middle-content {
  width: 85%;
  padding: 1rem;
}

.middle-inner-content {
  padding: 2rem;
}
}
  </style>
</head>

<body>
  <div class="container">
    <div class="left-menu">
      <ul id="cycleList"></ul>
    </div>
    <div class="middle-content">
      <div class="right-menu">
        <input type="text" id="searchInput" placeholder="Search...">
        <button id="searchButton">Search</button>
        <div id="searchResults"></div>
      </div>
      <div id="middleContent" class="middle-inner-content">
      </div>
    </div>
  </div>
  <script>
    const cycles = [
      {
        name: "기본판",
        pack_code: "core",
        card_types: ["플레이어 카드", "시나리오 카드"],
      },
      {
        name: "Cycle 2",
      },
    ];

    const cards = [
      {
        code: "07002",
        name: "어맨다 샤프",
        subname: "학생",
        text: "<b>강제</b> - 조사 단계 시작에: 카드를 1장 뽑습니다. ‘어맨다 샤프’ 밑에 있는 카드를 버립니다. 당신의 손에 있는 카드를 1장 선택해서 ‘어맨다 샤프’ 밑에 놓습니다.\n<b>강제</b> - 당신이 수행하는 능력 테스트 시작에: (가능하다면) ‘어맨다 샤프’ 밑에 있는 카드를 소모합니다. 이번 테스트가 끝날 때 그 카드를 버리지 않습니다.\n[elder_sign] 효과: +0. 이번 능력 테스트에서, 당신은 ‘어맨다 샤프’ 밑에 있는 카드에 있는 능력 아이콘 개수를 두 배로 불려도 됩니다.",
        traits: "미스캐토닉. 학자.",
        back_flavor: "어맨다 샤프는 미스캐토닉 대학에서 특출난 실력을 발휘하며 졸업까지 탄탄대로를 걷고 있었다. 그러던 어느 날, 어맨다는 대양의 밑바닥에서 거대한 괴물이 솟아오르는 그림을 본 후로, 도저히 수업을 따라갈 수가 없었다. 그날부터 꿈속에서는 광대한 수중 도시가 펼쳐졌고 불가해한 언어로 된 속삭임이 귓가에 어른거렸다. 어맨다는 아직은 학업에 전념하고 있지만, 더는 최우수 졸업생이란 목표를 좇지 않는다. 그 대신, 현실의 경계 사이에 숨겨져 있는 초자연적인 비밀에 담긴 의미를 밝혀내고자 나섰다.",
        back_text: "<b>덱 크기</b>: 30장.\n<b>덱 구성 선택지</b>: 레벨 0-5 탐구자 카드([seeker]), 레벨 0-3 [[숙련]] 능력 카드, 레벨 0-5 중립 카드.\n<b>덱 구성 요구조건</b>(덱 크기에 포함되지 않습니다): 불가해한 연구, 심해로부터의 속삭임, 무작위 기본 약점 카드 1장.",
        faction_code: "seeker",
        pack_code: "core",
        faq_list: [701, 702, 703]
      }
    ];

    const factions = {
      guardian: "#2E86C1",
      seeker: "#F1C40F",
      rogue: "#229954",
      mystic: "#9B59B6",
      survivor: "#E74C3C",
      neutral: "#7F8C8D",
    };

    const FAQ_LEVEL_A = 'A';
    const FAQ_LEVEL_B = 'B';
    const FAQ_LEVEL_C = 'C';
    const FAQ_LEVEL_D = 'D';
    const FAQ_LEVEL_E = 'E';

    const faqs = {
      701: {
        level: FAQ_LEVEL_A,
        date: '2020',
        source: 'FAQ, v.1.8',
        question_text: '‘어맨다 샤프’ 밑에 있는 카드가 능력 테스트에 소모된 동안, 그 카드가 다른 플레이 영역으로 이동하려 한다면 어떻게 처리해야 하나요?',
        answer_text: '이 경우, ‘어맨다 샤프’ 밑에 남지 않고 해당 플레이 영역으로 이동합니다. 능력 테스트 끝에 버려지는 능력 카드만이 ‘어맨다 샤프’ 밑에 남습니다.'
      },
      702: {
        level: FAQ_LEVEL_C,
        date: '2021',
        source: 'FAQ, v.1.8',
        question_text: '‘어맨다 샤프’ 밑에 있는 카드가 능력 테스트에 소모된 동안, 그 카드가 다른 플레이 영역으로 이동하려 한다면 어떻게 처리해야 하나요?',
        answer_text: '이 경우, ‘어맨다 샤프’ 밑에 남지 않고 해당 플레이 영역으로 이동합니다. 능력 테스트 끝에 버려지는 능력 카드만이 ‘어맨다 샤프’ 밑에 남습니다.'
      },
      703: {
        level: FAQ_LEVEL_A,
        date: '2022',
        source: 'FAQ, v.2.0',
        question_text: '‘방어 태세’, ‘지역 조사’, ‘비술 이론’, ‘불굴의 기백’이 ‘어맨다 샤프’ 밑에 있을 때, 이러한 카드를 능력 테스트에 소모할 수 있나요?',
        answer_text: '불가능합니다. 이번 능력 테스트와 일치하는 능력 아이콘이 1개 이상 있어야만 소모할 수 있습니다. 위에 언급된 카드는당신의 손에 있거나 능력 테스트에 소모된 경우에만 아이콘을 갖습니다. 따라서 (‘어맨다 샤프’나 ‘연습이 완벽을 만든다’와 같이) 다른 곳/방법을 통해서는 소모할 수 없습니다.'
      }
    }

    function _getClass(obj) {
      return obj.faction_code ? obj.faction_code : 'neutral';
    }
    function _getClassName(obj) {
      switch (obj.faction_code) {
        case "guardian":
          return '수호자';
          break;
        case "seeker":
          return '탐구자';
          break;
        case "rogue":
          return '무법자';
          break;
        case "mystic":
          return '신비주의자';
          break;
        case "survivor":
          return '생존자';
          break;
        default:
          return '';
      }
    }
    function _getTypeName(obj) {
      switch (obj.faction_code) {
        case "guardian":
          return '수호자';
          break;
        case "seeker":
          return '탐구자';
          break;
        case "rogue":
          return '무법자';
          break;
        case "mystic":
          return '신비주의자';
          break;
        case "survivor":
          return '생존자';
          break;
        default:
          return '';
      }
    }

    function _makeText(text) {
      return '<p>' + text.replaceAll('[bless]', '<span class="icon-bless" title="Bless"></span>')
        .replaceAll('[curse]', '<span class="icon-curse" title="curse"></span>')
        .replaceAll('[reaction]', '<span class="icon-reaction" title="Reaction"></span>')
        .replaceAll('[action]', '<span class="icon-action" title="action"></span>')
        .replaceAll('[free]', '<span class="icon-free" title="free"></span>')
        .replaceAll('[elder_sign]', '<span class="icon-elder_sign" title="Elder Sign"></span>')
        .replaceAll('[auto_fail]', '<span class="icon-auto_fail" title="auto_fail"></span>')
        .replaceAll('[guardian]', '<span class="icon-guardian" title="Guardian"></span>')
        .replaceAll('[seeker]', '<span class="icon-seeker" title="seeker"></span>')
        .replaceAll('[rogue]', '<span class="icon-rogue" title="rogue"></span>')
        .replaceAll('[mystic]', '<span class="icon-mystic" title="mystic"></span>')
        .replaceAll('[survivor]', '<span class="icon-survivor" title="survivor"></span>')
        .replaceAll('[willpower]', '<span class="icon-willpower" title="willpower"></span>')
        .replaceAll('[combat]', '<span class="icon-combat" title="combat"></span>')
        .replaceAll('[agility]', '<span class="icon-agility" title="agility"></span>')
        .replaceAll('[intellect]', '<span class="icon-intellect" title="intellect"></span>')
        .replaceAll('[[', '<b><i>')
        .replaceAll(']]', '</i></b>')
        .replaceAll('\n', '</p><p>') + '</p>';
    }

    function _makeFaqText(faq_list) {
      let resultText = '';
      for (idx of faq_list) {
        resultText += `<div class="faqEntry"><div class="levelDiv">LEVEL<br>` + faqs[idx].level + `</div>` +
          `<p class="faqContent"><strong>Q: </strong>` + faqs[idx].question_text + `<br><strong>A: </strong>` + faqs[idx].answer_text + `<br><strong>출처: </strong>` + faqs[idx].source + `, ` + faqs[idx].date + `</p>` +
          `</div>`
      }
      return resultText;
    }

    document.addEventListener("DOMContentLoaded", function () {
      const cycleList = document.getElementById("cycleList");
      const middleContent = document.getElementById("middleContent");
      const searchInput = document.getElementById("searchInput");
      const searchButton = document.getElementById("searchButton");

      // Render cycle list
      cycles.forEach((cycle) => {
        const cycleLi = document.createElement("li");
        cycleLi.innerText = cycle.name;
        cycleLi.classList.add("cycle");
        cycleList.appendChild(cycleLi);

        cycle.card_types.forEach((cardType) => {
          const li = document.createElement("li");
          li.innerText = cardType;
          li.classList.add("card-type");
          li.addEventListener("click", function () {
            displayCardsList(cycle, cardType);
          });
          cycleList.appendChild(li);
        });
      });
      function displayCardsList(cycle, type) {
        middleContent.innerHTML = "";

        const table = document.createElement("table");
        table.classList.add("card-table");

        cards.filter((x) => x.pack_code === cycle.pack_code)
          .forEach((card) => {
            const tr = document.createElement("tr");
            tr.classList.add("card");
            tr.classList.add(card.faction_code);
            tr.style.color = factions[card.faction_code];
            tr.addEventListener("click", function () {
              displayCardEntry(card, type);
            });

            const td = document.createElement("td");
            td.innerText = card.name;
            tr.appendChild(td);

            table.appendChild(tr);
          });

        middleContent.appendChild(table);
      }
      /*function displayCardsList(cycle, type) {
        middleContent.innerHTML = "";
        const ul = document.createElement("ul");
        middleContent.appendChild(ul);
        cards.filter((x) => x.pack_code === cycle.pack_code)
          .forEach((card) => {
            const li = document.createElement("li");
            li.innerText = `${card.name}`;
            li.classList.add("card");
            li.classList.add(card.faction_code);
            li.style.color = factions[card.faction_code];
            li.addEventListener("click", function () {
              displayCardEntry(card, type);
            });
            ul.appendChild(li);
          });
      }*/

      function displayCardEntry(card) {
        middleContent.innerHTML = `<div class="col-sm-7">
        	<div>
        		<div class="panel panel-default border-` + _getClass(card) + ` ">
        			<div class="panel-heading border-` + _getClass(card) + ` bg-` + _getClass(card) + ` ">
        				<h3 class="panel-title">` +
          (card.is_unique ? `<span class="icon-unique"></span> ` : '') +
          `<a href="https://ko.arkhamdb.com/card/` + card.code + `" class="card-name card-tip" data-code="` + card.code + `">` + card.name + `
        </a>` +
          (card.subname ? `<div class="card-subname small">` + card.subname + `</div>` : '') + ` 				</h3>
          		</div>
        			<div class="panel-body card-content">
        				<div class="card-faction">
        	<span class="icon-` + _getClass(card) + ` fg-` + _getClass(card) + `"></span>
        	<span class="card-faction">` + _getClassName(card) + `</span>
        		</div>
        				<div class="card-info">

        <p class="card-traits">` + card.traits + `</p>



        </div>								<div class="">
        <div class="card-text border-` + _getClass(card) + `">
        	` + _makeText(card.text) + `
        </div>
        </div>` +
          (card.flavor ? `<div class="card-flavor small">` + card.flavor + `</div>` : '') + `
        																</div>
        		</div>
        	</div>
        </div>
        <div class="col-sm-5" style="margin-bottom:2em">
        	<div class="">
        				   <img src="cards/` + card.code + `.png" alt="` + card.name + `" class="img-responsive img-vertical-card" style="margin:auto">
        			</div>
        </div>`;
        if (card.back_text) {
          middleContent.innerHTML += `<div class="col-sm-7" style="margin-bottom:2em">
          	<div>
          		<div class="panel panel-default border-` + _getClass(card) + ` ">
          			  		<div class="panel-heading border-` + _getClass(card) + ` bg-` + _getClass(card) + `">
          				<h3 class="panel-title">
          					<div class="">` + card.name + ` - Back</div>
          				</h3>
            		</div>
            					  		<div class="panel-body card-content border-` + _getClass(card) + `">
            													<div class="card-text border-` + _getClass(card) + `">
          					` + _makeText(card.back_text) + `
          					</div>` +
            (card.back_flavor ? `<div class="card-flavor small">` + card.back_flavor + `</div>` : '') + `
          					</div>
          									  		</div>
            				</div>
          	</div>
          </div>
          <div class="col-sm-5" style="margin-bottom:2em">
          	<div class="">
          				   <img src="cards/` + card.code + `b.png" alt="` + card.name + `" class="img-responsive img-vertical-card" style="margin:auto">
          			</div>
          </div>`;
        }
        middleContent.innerHTML += `<div class="col-md-12" style="margin-top:2em">
	<div style="line-height:34px" id="faq-header">
		<span style="font-size:24px">FAQs</span> (taken from the official FAQ or FFG's responses to the <a href="https://www.fantasyflightgames.com/en/contact/rules/">official rules question form</a>)
	</div>

				<article class="review">
			<div>` + _makeFaqText(card.faq_list) + `
			</div>
		</article>
		
</div>`;
      }

      searchButton.addEventListener("click", function () {
        const searchTerm = searchInput.value.toLowerCase();
        const searchResults = [];
        cycles.forEach((cycle) => {
          cycle.playerScenarioPairs.forEach((pair) => {
            if (pair.playerName.toLowerCase().includes(searchTerm) || pair.scenarioName.toLowerCase().includes(searchTerm)) {
              searchResults.push(pair);
            }
          });
        });
        displaySearchResults(searchResults);
      });

      function displaySearchResults(searchResults) {
        middleContent.innerHTML = "";
        searchResults.forEach((result) => {
          const li = document.createElement("li");
          li.innerText = `${result.playerName} - ${result.scenarioName}`;
          li.addEventListener("click", function () {
            displayCardEntry(result);
          });
          middleContent.appendChild(li);
        });
      }
    });
  </script>

  <footer>
    이 페이지에 관한 요청이 있는 경우 <a href="mailto:arkhamfileskorea@gmail.com">이곳(&#9993;)</a>으로 보내주시길 바랍니다. <br />
    &lt;아컴호러 카드게임&gt;은 (주)아스모디코리아와의 계약에 따라, (주)코리아보드게임즈가 한국 내 독점 판권을 소유하고 있습니다. <br />
    본 웹사이트의 기본 형상은 <a href="https://arkhamdb.com">ArkhamDB</a>에 기반하여 작성되었습니다. Kamalisk를 포함한 모든 기여자에게 감사의 말을 올립니다.
  </footer>

</body>

</html>